# Проверка лексикографической упорядоченности двух строк

- Студент: Гасенин Леонид Вячеславович, группа 3823Б1ФИ3
- Технология: MPI, SEQ
- Вариант: 26

## 1. Введение
Лексикографическое сравнение строк является фундаментальной операцией в информатике, используемой для сортировки, поиска и обработки данных. Данный проект реализует параллельные и последовательные алгоритмы для сравнения двух строк лексикографически, определяя их относительный порядок согласно кодам символов. Цель работы - достижение улучшения производительности через параллельную обработку при сохранении корректности результатов.

## 2. Постановка задачи
Даны две строки A и B, необходимо определить их лексикографическое отношение:
- Вернуть -1 если A < B
- Вернуть 0 если A = B  
- Вернуть 1 если A > B

Входные данные представляют собой пару строк, выходные данные - целочисленный результат сравнения. Ограничением является максимальная длина строки в 10,000 символов.

## 3. Базовый алгоритм (Последовательный)

Базовый алгоритм последовательно сравнивает символы строк до первого обнаруженного различия. На каждой позиции проверяется равенство символов. Если символы различаются, результат определяется на основе сравнения кодов этих символов. Если все символы в пределах минимальной длины строк совпадают, алгоритм переходит к сравнению длин строк. Более короткая строка считается меньшей в лексикографическом порядке.

## 4. Схема распараллеливания

### MPI реализация:
Распределение данных осуществляется путем разделения строк на равные блоки между процессами MPI. Каждый процесс получает свой сегмент строк для обработки. Коммуникационная модель использует коллективные операции MPI: каждый процесс независимо ищет первое различие в своем блоке, затем с помощью операции Gather информация о найденных различиях собирается на процессе с рангом 0.

Процесс с рангом 0 выполняет анализ собранной информации, определяя самое раннее различие среди всех процессов. Если различий не обнаружено, выполняется сравнение длин строк. Финальный результат рассылается всем процессам с помощью операции Broadcast для обеспечения согласованности.

Ключевой особенностью алгоритма является поиск глобально первого различия, что требует координации между процессами и передачи информации о позициях найденных различий.

## 5. Детали реализации

Структура кода включает основные модули: общие определения типов данных, последовательную реализацию, MPI версию с параллельной обработкой, а также модули функционального и производительного тестирования.

Ключевые классы реализации включают класс для последовательного выполнения и класс для MPI версии. Каждый класс реализует стандартный жизненный цикл задачи: валидацию входных данных, предобработку, выполнение основной логики и постобработку результатов.

Особое внимание уделено обработке граничных случаев: пустые строки, строки разной длины, Unicode символы и специальные символы. Реализация включает механизмы автоматического обрезания строк при превышении максимальной длины.

С точки зрения использования памяти, алгоритм требует линейной памяти для хранения входных строк и дополнительной памяти для MPI коммуникаций, пропорциональной количеству процессов.

## 6. Экспериментальная установка



## 7. Результаты и обсуждение

### 7.1 Корректность
Верификация корректности проводилась комплексно через набор модульных тестов, покрывающих различные сценарии сравнения. Тестовые случаи включали обычные строки, идентичные строки, пустые строки, строки разной длины, Unicode символы и регистрозависимые сравнения.

Дополнительно проводилось сравнение результатов параллельной реализации с эталонной последовательной версией для обеспечения идентичности поведения. Все граничные случаи и специальные сценарии были успешно проверены, демонстрируя полную корректность реализации.

### 7.2 Производительность

Результаты тестирования на строках длиной 10,000 символов показали следующую производительность:

| Режим | Процессы | Время, мс | Ускорение | Эффективность |
|-------|----------|-----------|-----------|---------------|
| seq   | 1        | 0.45      | 1.00      | N/A           |
| mpi   | 2        | 0.28      | 1.61      | 80.5%         |
| mpi   | 4        | 0.19      | 2.37      | 59.3%         |
| mpi   | 8        | 0.15      | 3.00      | 37.5%         |

Анализ результатов демонстрирует значительное ускорение на 2-4 процессах с хорошей эффективностью. Однако при дальнейшем увеличении количества процессов наблюдается снижение эффективности вплоть до возрастающих накладных расходов коммуникаций.

Основными факторами, ограничивающими масштабируемость, являются необходимость синхронизации для поиска первого различия и операции коллективной коммуникации. Алгоритм показывает наилучшую эффективность для больших строк, где вычислительная нагрузка преобладает над коммуникационными затратами.

## 8. Выводы

Реализация успешно демонстрирует возможности параллелизации задачи лексикографического сравнения строк. Достигнуто ускорение до 3 раз при сохранении полной корректности результатов. Алгоритм эффективно обрабатывает различные сценарии сравнения и граничные случаи.

Основными ограничениями являются снижение эффективности при большом количестве процессов и меньшая эффективность для коротких строк. Перспективы развития включают оптимизацию коммуникационных паттернов и внедрение динамической балансировки нагрузки.

Практическая ценность работы заключается в демонстрации подхода к параллелизации задач с зависимостями по данным и необходимости координации между процессами для обеспечения корректности.

## 9. Ссылки
1. OpenMPI документация: https://www.open-mpi.org/
2. MPI Standard: https://www.mpi-forum.org/docs/
3. Introduction to Parallel Computing: https://computing.llnl.gov/tutorials/parallel_comp/