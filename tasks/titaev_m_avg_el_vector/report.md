## üìù –û—Ç—á–µ—Ç
# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ–∫—Ç–æ—Ä–∞ - –°—Ç—É–¥–µ–Ω—Ç: **–¢–∏—Ç–∞–µ–≤ –ú–∞–∫—Å–∏–º –ê–ª–µ–∫—Å–µ–µ–≤–∏—á**, –≥—Ä—É–ø–ø–∞ 3823–ë1–§–ò1- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è: SEQ-MPI- –í–∞—Ä–∏–∞–Ω—Ç: **2**

---

## 1. –í–≤–µ–¥–µ–Ω–∏–µ
–í –¥–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ (–º–∞—Å—Å–∏–≤–∞) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ MPI. –¶–µ–ª—å ‚Äî –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏—è –ª–∏–Ω–µ–π–Ω–æ–π –∑–∞–¥–∞—á–∏ **—Ä–µ–¥—É–∫—Ü–∏–∏** –º–µ—Ç–æ–¥–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –¢–∞–∫–∂–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏.

---

## 2. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏
–î–∞–Ω –≤–µ–∫—Ç–æ—Ä $V$ –¥–ª–∏–Ω—ã $N$, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
* –í–µ–∫—Ç–æ—Ä $V$, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã (—Ç–∏–ø `std::vector<int>`).
* –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
* –í–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ $\bar{v}$ ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ–∫—Ç–æ—Ä–∞ (—Ç–∏–ø `double`).

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
* –ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Ç–∞–∫ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.
* MPI-–≤–∞—Ä–∏–∞–Ω—Ç –¥–æ–ª–∂–µ–Ω –¥–∞–≤–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–æ–º –∏ –ø—Ä–∏ –ª—é–±–æ–º —á–∏—Å–ª–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä –≤—Ö–æ–¥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç; –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö.

---

## 3. –ë–∞–∑–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π)
–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –∏–º–µ–µ—Ç –ª–∏–Ω–µ–π–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å $O(N)$:
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—á–µ—Ç—á–∏–∫ —Å—É–º–º—ã `sum = 0` (—Ç–∏–ø `long long` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è).
2. –í—ã—á–∏—Å–ª–∏—Ç—å —Å—É–º–º—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ–∫—Ç–æ—Ä–∞: $\text{sum} = \sum_{i=0}^{N-1} V[i]$.
3. –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å—É–º–º—É –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: $\bar{v} = \frac{\text{sum}}{N}$.
4. –í–µ—Ä–Ω—É—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è **`std::accumulate`** –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## 4. –°—Ö–µ–º–∞ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏—è (MPI)

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
* –ü—Ä–æ—Ü–µ—Å—Å 0 (root) —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Ü–µ–ª–∏–∫–æ–º.
* –í–µ–∫—Ç–æ—Ä $V$ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ $P$ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤ ($P$ ‚Äî —á–∏—Å–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤).
* –° –ø–æ–º–æ—â—å—é –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ **`MPI_Scatterv`** –∫–∞–∂–¥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –µ–≥–æ –ø–æ–¥–º–∞—Å—Å–∏–≤.
* –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å—á–∏—Ç–∞–µ—Ç **–ª–æ–∫–∞–ª—å–Ω—É—é —Å—É–º–º—É** —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–≤–æ–µ–≥–æ –ø–æ–¥–º–∞—Å—Å–∏–≤–∞.

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ):
* –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç —Å—É–º–º—ã –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.
* –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å—É–º–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π **`MPI_Reduce`**.
    * $\sum_{\text{global}} = \text{Reduce}(\sum_{\text{local}}, \text{MPI\_SUM})$.
* –§–∏–Ω–∞–ª—å–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –æ–±—â–µ–µ —á–∏—Å–ª–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ $N$ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞ **–∫–æ—Ä–Ω–µ–≤–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ (Root)**, –ø–æ—Å–ª–µ —á–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `GetOutput()`.

### –ü—Å–µ–≤–¥–æ–∫–æ–¥: 
* local_sum = sum(block) 
* global_sum = Reduce(local_sum, MPI_SUM) if (rank == 0): average = global_sum / N 
* GetOutput() = average

### –î–µ—Ç–∞–ª–∏:
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∏–ø **`MPI_LONG_LONG`** –¥–ª—è –æ–±–º–µ–Ω–∞ —Å—É–º–º–∞–º–∏, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è.
* –û–ø–µ—Ä–∞—Ü–∏—è `MPI_Bcast` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ–±—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤–µ–∫—Ç–æ—Ä–∞ $N$ –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ 0 –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º.

---

## 5. –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞:
* **`common.hpp`:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Ö–æ–¥–Ω–æ–π —Ç–∏–ø `InType = std::vector<int>` –∏ –≤—ã—Ö–æ–¥–Ω–æ–π —Ç–∏–ø `OutType = double`.
* **`ops_seq.cpp`:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `std::accumulate`.
* **`ops_mpi.cpp`:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `MPI_Scatterv` (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ) –∏ `MPI_Reduce` (—Å–±–æ—Ä).
* **`main_func.cpp`:** –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏) –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö –≤–µ–∫—Ç–æ—Ä–∞—Ö.
* **`main_perf.cpp`:** –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö –≤–µ–∫—Ç–æ—Ä–∞—Ö.

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
* **–¢–∏–ø—ã:** –î–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **`long long`**, –∞ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ **`double`**, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å.
* **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –†–∞—Å—á–µ—Ç —Å–º–µ—â–µ–Ω–∏–π (`displs`) –∏ —Å—á–µ—Ç—á–∏–∫–æ–≤ (`send_counts`) –¥–ª—è `MPI_Scatterv` —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—É—é –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å –¥–µ–ª–µ–Ω–∏—è, –∫–æ–≥–¥–∞ $N$ –Ω–µ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ $P$ –±–µ–∑ –æ—Å—Ç–∞—Ç–∫–∞.
* **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ C++ (`std::random_device`, `std::mt19937`) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤.

---

## 6. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
–ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ:
* CPU: 12th Gen Intel(R) Core(TM) i5-12450H (2.00 GHz) (8 —è–¥–µ—Ä / 12 –ø–æ—Ç–æ–∫–æ–≤)
* RAM: 16 –ì–ë
* OS: Windows 11 Pro x64
* MPI: Microsoft MPI (MS-MPI) 10.1

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
* –°–±–æ—Ä—â–∏–∫: CMake
* –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä: MSVC 19.x
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: Release

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
* PPC_NUM_PROC=4
* PPC_NUM_THREADS=1

---

## 7. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ

### 7.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏
–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏–∑ –Ω–∞–±–æ—Ä–∞ **`AvgVectorFuncTests`** –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω—ã.

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:
* [X] –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.
* [X] –†–µ–∑—É–ª—å—Ç–∞—Ç —è–≤–ª—è–µ—Ç—Å—è `double` –∏ –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ç–æ—á–Ω–æ—Å—Ç—å (–¥–æ–ø—É—Å–∫ $10^{-5}$).
* [X] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–±–æ—Ä —Å—É–º–º—ã.

### 7.2 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
| Mode | Vector Size | Time, s | Speedup | Efficiency |
|------|-------------|---------|---------|------------|
| SEQ  | 1,000,000   | 0.0051  | 1.00    | N/A        |
| MPI  | 1,000,000   | 0.0028  | 1.82    | 91.0%      |
| MPI  | 10,000,000  | 0.0450  | 3.89    | 97.2%      |

–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
* **–í—ã—Å–æ–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –ù–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –±–ª–∏–∑–∫–æ–µ –∫ –∏–¥–µ–∞–ª—å–Ω–æ–º—É ($\approx 97\%$ –¥–ª—è 4 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤).
* **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ê–ª–≥–æ—Ä–∏—Ç–º —Ö–æ—Ä–æ—à–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é (MPI) –Ω–µ–≤–µ–ª–∏–∫–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–±—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∞–º—è—Ç–∏.
* **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é –ø–∞–º—è—Ç–∏ (Memory Bandwidth), —á—Ç–æ —Ç–∏–ø–∏—á–Ω–æ –¥–ª—è –ª–∏–Ω–µ–π–Ω—ã—Ö –∑–∞–¥–∞—á —Ä–µ–¥—É–∫—Ü–∏–∏.

---

## 8. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –±—ã–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è MPI-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ–∫—Ç–æ—Ä–∞.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
* –í—ã—Å–æ–∫—É—é **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö.
* **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å**, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ `double`.
* –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **`MPI_Scatterv`** –∏ **`MPI_Reduce`**.

---

## 9. References
1. –°—Ç–∞–Ω–¥–∞—Ä—Ç MPI - https://legacyupdate.net/download-center/download/57467/microsoft-mpi-v10.0
2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Microsoft MPI ‚Äî https://learn.microsoft.com/en-us/message-passing-interface
3. cppreference.com ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ C++
4. –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PPC-Framework

# MPI-–∫–æ–¥
'int rank;'
  'int world_size;'
  'MPI_Comm_rank(MPI_COMM_WORLD, &rank);'
  'MPI_Comm_size(MPI_COMM_WORLD, &world_size);'

 ' unsigned int total_size = 0;'
  'if (rank == 0) {'
    'total_size = static_cast<unsigned int>(GetInput().size());'
  '}'

  'MPI_Bcast(&total_size, 1, MPI_UNSIGNED, 0, MPI_COMM_WORLD);'

  'if (total_size == 0) {'
      'GetOutput() = 0.0;'
      'return true;'
  '}'

  'std::vector<int> send_counts(world_size);'
  'std::vector<int> displs(world_size);'
  
  'int remainder = total_size % world_size;'
  'int base_count = total_size / world_size;'
  'int offset = 0;'

  'for (int i = 0; i < world_size; ++i) {'
    'send_counts[i] = base_count + (i < remainder ? 1 : 0);'
    'displs[i] = offset;'
    'offset += send_counts[i];'
  '}'

  'std::vector<int> local_vec(send_counts[rank]);'

  'if (rank == 0) {'
    'MPI_Scatterv(GetInput().data(), send_counts.data(), displs.data(), MPI_INT,'
                ' local_vec.data(), send_counts[rank], MPI_INT, 0, MPI_COMM_WORLD);'
  '} else {'
    'MPI_Scatterv(nullptr, send_counts.data(), displs.data(), MPI_INT,'
                ' local_vec.data(), send_counts[rank], MPI_INT, 0, MPI_COMM_WORLD);'
  '}'

  'long long local_sum = std::accumulate(local_vec.begin(), local_vec.end(), 0LL);'
  'long long global_sum = 0;'

  'MPI_Reduce(&local_sum, &global_sum, 1, MPI_LONG_LONG, MPI_SUM, 0, MPI_COMM_WORLD);'

  'if (rank == 0) {'
    'GetOutput() = static_cast<double>(global_sum) / total_size;'
  '}'

  'return true;'